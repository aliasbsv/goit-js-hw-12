{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/err.svg","../src/main.js"],"sourcesContent":["//Function for HTTP requests\n\nexport function getImages(imageName) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const params = new URLSearchParams(\n        {\n        key: '44394312-8b8108d4f3ae97cbc0f498bf3',\n        q: imageName,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        }\n    );\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n    return fetch(url).then(res => res.json());\n}","//Functions for displaying interface elements.\nexport  function imageTemplate(el) {\n  return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n        </a>\n\n        <ul class=\"property\">\n          <li class=\"property__item\">\n            <p class=\"property__name\">Likes</p>\n            <p class=\"item-prop__quantity\">${el.likes}</p>\n          </li>\n          <li class=\"property__item\">\n            <p class=\"property__name\">Views</p>\n            <p class=\"item-prop__quantity\">${el.views}</p>\n          </li>\n          <li class=\"property__item\">\n            <p class=\"property__name\">Comments</p>\n            <p class=\"item-prop__quantity\">${el.comments}</p>\n          </li>\n          <li class=\"property__item\">\n            <p class=\"property__name\">Downloads</p>\n            <p class=\"item-prop__quantity\">${el.downloads}</p>\n          </li>\n        </ul>\n      </li>`;\n}\n\nexport function imagesTemplate(arr) { \n    return arr.map(imageTemplate).join('\\n');\n}\n\n// показати loader\nexport function showLoader(loader) {\n  loader.classList.remove('hidden');\n}\n \n//// приховати loader\nexport function hideLoader(loader) {\n  loader.classList.add('hidden');\n }","export default \"__VITE_ASSET__33588f56__\"","import { getImages } from \"./js/pixabay-api\";\nimport { hideLoader, imageTemplate, imagesTemplate, showLoader } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iconClose from './img/err.svg';\n\nconst formEl = document.querySelector('.search-form');\nconst ulEl = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\n    let simpleGallery = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n        captionDelay: 250,\n    });\n    simpleGallery.on('error.simplelightbox', function (e) {\n    console.log(e); \n});\n\nformEl.addEventListener('submit', e => { \n    e.preventDefault();\n    const query = e.target.elements.query.value.trim();\n      \n    if (!query) {\n    return;\n    }\n    \n    showLoader(loader);\n\n    getImages(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                ulEl.innerHTML = '';\n\n            iziToast.show({\n            class: 'izt-toast-message',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            messageSize: '12',\n            messageLineHeight: '24',\n            iconUrl: iconClose,\n            messageColor: '#ffffff',\n            backgroundColor: '#b51b1b',\n            position: 'topRight',\n            theme: 'dark',\n            timeout: 2000\n          });\n        }\n            else {\n            const markup = imagesTemplate(data.hits);\n            ulEl.innerHTML = markup;\n            simpleGallery.refresh();\n            /* Обновляем галерею, вызов refresh() гарантирует,\n            что все элементы будут включены в галерею */\n                }     \n            })\n            .catch(err => {\n                console.log(\"Error\", err);\n                iziToast.show({\n                class: 'izt-toast-message',\n                message: 'There was an error loading images. Try again later!',\n                messageSize: '12',\n                messageLineHeight: '24',\n                iconUrl: iconClose,\n                messageColor: '#ffffff',\n                backgroundColor: '#b51b1b',\n                position: 'topRight',\n                theme: 'dark',\n                timeout: 2000\n            });\n            })\n        .finally(() => {\n            hideLoader(loader);\n                formEl.reset();\n             });\n});\n"],"names":["getImages","imageName","BASE_URL","END_POINT","params","url","res","imageTemplate","el","imagesTemplate","arr","showLoader","loader","hideLoader","iconClose","formEl","ulEl","simpleGallery","SimpleLightbox","query","data","iziToast","markup","err"],"mappings":"6vBAEO,SAASA,EAAUC,EAAW,CACjC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBACf,CACA,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACX,CACT,EACUI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CCfQ,SAASC,EAAcC,EAAI,CACjC,MAAO;AAAA,wCAC+BA,EAAG,aAAa;AAAA,4CACZA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAM/BA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,6CAIXA,EAAG,SAAS;AAAA;AAAA;AAAA,YAIzD,CAEO,SAASC,EAAeC,EAAK,CAChC,OAAOA,EAAI,IAAIH,CAAa,EAAE,KAAK;AAAA,CAAI,CAC3C,CAGO,SAASI,EAAWC,EAAQ,CACjCA,EAAO,UAAU,OAAO,QAAQ,CAClC,CAGO,SAASC,EAAWD,EAAQ,CACjCA,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCxCA,MAAeE,EAAA,yCCQTC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAO,SAAS,cAAc,UAAU,EACxCJ,EAAS,SAAS,cAAc,SAAS,EAE3C,IAAIK,EAAgB,IAAIC,EAAe,gBAAiB,CACxD,aAAc,MACV,aAAc,GACtB,CAAK,EACDD,EAAc,GAAG,uBAAwB,SAAU,EAAG,CACtD,QAAQ,IAAI,CAAC,CACjB,CAAC,EAEDF,EAAO,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAChB,MAAMI,EAAQ,EAAE,OAAO,SAAS,MAAM,MAAM,OAEvCA,IAILR,EAAWC,CAAM,EAEjBZ,EAAUmB,CAAK,EACV,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrBJ,EAAK,UAAY,GAErBK,EAAS,KAAK,CACd,MAAO,oBACP,QACE,2EACF,YAAa,KACb,kBAAmB,KACnB,QAASP,EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,MAAO,OACP,QAAS,GACrB,CAAW,MAEM,CACL,MAAMQ,EAASb,EAAeW,EAAK,IAAI,EACvCJ,EAAK,UAAYM,EACjBL,EAAc,QAAO,CAGhB,CACjB,CAAa,EACA,MAAMM,GAAO,CACV,QAAQ,IAAI,QAASA,CAAG,EACxBF,EAAS,KAAK,CACd,MAAO,oBACP,QAAS,sDACT,YAAa,KACb,kBAAmB,KACnB,QAASP,EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,MAAO,OACP,QAAS,GACzB,CAAa,CACb,CAAa,EACJ,QAAQ,IAAM,CACXD,EAAWD,CAAM,EACbG,EAAO,MAAK,CAC5B,CAAc,EACd,CAAC"}